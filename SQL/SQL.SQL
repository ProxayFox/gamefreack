CREATE DATABASE gameFreaks;

CREATE TABLE clientData(
  CDID INT(11) PRIMARY KEY NOT NULL AUTO_INCREMENT,
  fName VARCHAR(50),
  lName VARCHAR(50),
  email VARCHAR(150) UNIQUE NOT NULL
);

CREATE TABLE clientProfile(
  CPID INT(11) PRIMARY KEY NOT NULL AUTO_INCREMENT,
  CDID INT(11) NOT NULL,
  displayName VARCHAR(50) UNIQUE,
  UIMG VARCHAR(255),
  FOREIGN KEY (CDID) 	REFERENCES clientData(CDID) ON DELETE CASCADE
);

CREATE TABLE clientReward(
  CRID INT(11) PRIMARY KEY NOT NULL AUTO_INCREMENT,
  CDID INT(11) NOT NULL,
  points INT(11) NOT NULL,
  level INT(11) NOT NULL,
  FOREIGN KEY (CDID) 	REFERENCES clientData(CDID) ON DELETE CASCADE
);

CREATE TABLE clientAddress(
  CAID INT(11) PRIMARY KEY NOT NULL AUTO_INCREMENT,
  CDID INT(11) NOT NULL,
  unit INT(11),
  buildingNumber INT(11),
  street VARCHAR(100),
  suburb VARCHAR(100),
  city VARCHAR(100),
  state INT(3),
  postNo INT(5),
  FOREIGN KEY (CDID) 	REFERENCES clientData(CDID) ON DELETE CASCADE
);

CREATE TABLE login(
  LID INT(11) PRIMARY KEY NOT NULL AUTO_INCREMENT,
  CDID INT(11) NOT NULL,
  UName VARCHAR(100) UNIQUE NOT NULL,
  PWD VARCHAR(200) NOT NULL,
  FOREIGN KEY (CDID) 	REFERENCES clientData(CDID) ON DELETE CASCADE
);

CREATE TABLE gameInventory(
  GIID INT(11) PRIMARY KEY NOT NULL AUTO_INCREMENT,
  productName VARCHAR(255) NOT NULL,
  releaseDates DATE NOT NULL,
  platform tinyint(1) NOT NULL,
  producer VARCHAR(255) NOT NULL,
  genre VARCHAR(100) NOT NULL,
  briefDescription TEXT(300) NOT NULL,
  longDescription VARCHAR(255) NOT NULL,
  Requirements TEXT(500) NOT NULL
);

CREATE TABLE  gameInventoryIMG (
  GIID INT(11) NOT NULL AUTO_INCREMENT,
  IMG VARCHAR(255) NOT NULL,
  PRIMARY KEY (GIID, IMG),
  FOREIGN KEY (GIID) REFERENCES gameInventory(GIID) ON DELETE CASCADE
);

CREATE TABLE consoleInventory(
  CIID INT(11) PRIMARY KEY NOT NULL AUTO_INCREMENT,
  productName VARCHAR(255) NOT NULL,
  producer VARCHAR(255) NOT NULL,
  manufacturer VARCHAR(255) NOT NULL,
  releaseDates DATE NOT NULL,
  briefDescription TEXT(300) NOT NULL,
  longDescription TEXT(1000) NOT NULL
);

CREATE TABLE  consoleInventoryIMG (
  CIID INT(11) NOT NULL AUTO_INCREMENT,
  IMG VARCHAR(255) NOT NULL,
  PRIMARY KEY (CIID, IMG),
  FOREIGN KEY (CIID) REFERENCES consoleInventory(CIID) ON DELETE CASCADE
);

CREATE TABLE savedGameInventory(
  SGIID INT(11) PRIMARY KEY NOT NULL AUTO_INCREMENT,
  CDID INT(11) NOT NULL,
  GIID INT(11) NOT NULL,
  FOREIGN KEY (CDID) 	REFERENCES clientData(CDID) ON DELETE CASCADE,
  FOREIGN KEY (GIID) 	REFERENCES gameInventory(GIID) ON DELETE CASCADE
);

CREATE TABLE savedConsoleInventory(
  SCIID INT(11) PRIMARY KEY NOT NULL AUTO_INCREMENT,
  CDID INT(11) NOT NULL,
  CIID INT(11) NOT NULL,
  FOREIGN KEY (CDID) 	REFERENCES clientData(CDID) ON DELETE CASCADE,
  FOREIGN KEY (CIID) 	REFERENCES consoleInventory(CIID) ON DELETE CASCADE
);

CREATE TABLE guestGameComments(
  GGCID INT(11) PRIMARY KEY NOT NULL AUTO_INCREMENT,
  GIID INT(11) NOT NULL,
  username VARCHAR(255) NOT NULL,
  date date NOT NULL,
  comment TEXT(500) NOT NULL,
  FOREIGN KEY (GIID) 	REFERENCES gameInventory(GIID) ON DELETE CASCADE
);

CREATE TABLE guestConsoleComments(
  GCCID INT(11) PRIMARY KEY NOT NULL AUTO_INCREMENT,
  CIID INT(11) NOT NULL,
  username VARCHAR(255) NOT NULL,
  date date NOT NULL,
  comment TEXT(500) NOT NULL,
  FOREIGN KEY (CIID) 	REFERENCES consoleInventory(CIID) ON DELETE CASCADE
);

CREATE TABLE userGameComment(
  UGCID INT(11) PRIMARY KEY NOT NULL AUTO_INCREMENT,
  CPID INT(11) NOT NULL,
  IID INT(11) NOT NULL,
  date date NOT NULL,
  comment TEXT(500) NOT NULL,
  FOREIGN KEY (CPID) 	REFERENCES clientProfile(CPID) ON DELETE CASCADE
);

CREATE TABLE userConsoleComment(
  UCCID INT(11) PRIMARY KEY NOT NULL AUTO_INCREMENT,
  CPID INT(11) NOT NULL,
  IID INT(11) NOT NULL,
  date date NOT NULL,
  comment TEXT(500) NOT NULL,
  FOREIGN KEY (CPID) 	REFERENCES clientProfile(CPID) ON DELETE CASCADE
);